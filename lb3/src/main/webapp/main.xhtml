<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:ice="http://www.icefaces.org/icefaces/components" xmlns:ace="http://www.icefaces.org/icefaces/components"
      xmlns:c="http://java.sun.com/jsp/jstl/core" >
<!--      xmlns:ice="http://www.icefaces.org/icefaces/components" xmlns:ace="http://www.icefaces.org/icefaces/components"-->


    <h:head>
        <meta http-equiv="Content-Type" content="text/html" />
        <h:outputStylesheet library="css" name="styles.css" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>LB 3</title>
    </h:head>
    <h:body>
        <div class="background">

            <div class="header">
                <div class="header-container">
                    <a class="header-item" href="https://se.ifmo.ru/~s353349/lb1/index.htm" target="_blank"> <h2>Lab Work 3</h2></a>
                    <a class="header-item" href="https://isu.ifmo.ru/pls/apex/f?p=2437:7:109555636440371:::::" target="_blank"> <h2>Zarubov E.N</h2></a>
                    <a class="header-item" href="https://isu.ifmo.ru/pls/apex/f?p=2143:GR:109555636440371::NO:RP:GR_GR,GR_DATE:P3218," target="_blank"> <h2>Group P3218</h2></a>
                    <a class="header-item" href="https://se.ifmo.ru/courses/web" target="_blank"> <h2>Variant 2802</h2></a>
                </div>
                <div class="git-logo">
                    <a href="https://github.com/byrybdyk/Web" target="_blank">
                        <h:graphicImage url="jakarta.faces.resource/GitHublogo.png?ln=source" />
<!--                        jakarta.faces.resource/styles.css?ln=css-->
                    </a>
                </div>
            </div>
            <div class="main">
                <div >

                    <div class="graph-container">
                        <div class="graph">
                            <canvas id="graph" height="277" width="280"></canvas>
                        </div >

                        <div class="fields">
                                <h:form class="input" id="form">
                                <div class="error">
                                    <span id="error-message"/>
                                </div>

                                <div class="main-input-x">
                                    X
                                    <div class="input-form-X">

                                            <h:selectOneRadio  id="xRadio" name="rRadio"   value="#{pointBean.x}" required="true" >
                                                <f:selectItem itemValue="-5" itemLabel="-5" class="input-form-X" />
                                                <f:selectItem itemValue="-4" itemLabel="-4" class="input-form-X" />
                                                <f:selectItem itemValue="-3" itemLabel="-3" class="input-form-X" />
                                                <f:selectItem itemValue="-2" itemLabel="-2" class="input-form-X" />
                                                <f:selectItem itemValue="-1" itemLabel="-1" class="input-form-X" />
                                                <f:selectItem itemValue="0" itemLabel="0" class="input-form-X" />
                                                <f:selectItem itemValue="1" itemLabel="1" class="input-form-X" />
                                                <f:selectItem itemValue="2" itemLabel="2" class="input-form-X" />
                                                <f:selectItem itemValue="3" itemLabel="3" class="input-form-X" />
                                                <f:validateRequired/>

                                                <f:ajax execute="@this" render="@form"/>
                                            </h:selectOneRadio>


                                    </div>
<!--


<!-                                    <ice:sliderEntry style="width: 250px;" id="X-Input" value="#{pointBean.x}" min="-2" max="2" stepPercent="25">-->
<!--                                        <ice:ajax execute="@this" render="@form"/>-->
<!--                                    </ice:sliderEntry>-->
<!--                                    <h:inputText value="#{pointBean.x}" name="X-Input-hidden" maxlength="50" id="X-Input-hidden" disabled="false">-->
<!--                                        <f:validateDoubleRange minimum="-2" maximum="2"/>-->
<!--                                        <f:ajax execute="@this" render="@form"/>-->
<!--                                    </h:inputText>-->
                                </div>
                                <div class="input-y">
                                    <div class="input-y">
                                        Y
                                    </div>
                                    <h:inputText  value="#{pointBean.y}" id="yCoordinate" required="true" name="yCoordinate" maxlength="50"  a:placeholder="-5 ... 3">
                                        <f:validateRequired/>
                                        <f:validateDoubleRange minimum="-5" maximum="3"/>
                                        <f:ajax execute="@this" render="@form"/>
                                    </h:inputText>
<!--                                    <h:message for="Y-Input" id="Y-Input-error" class="error" style="max-width: 75px"/>-->
                                </div>
                                <div class="main-input-r">
                                    <div class="main-input-r">
                                        R
                                    </div>
                                    <h:inputText  value="#{pointBean.r}" id="radius" required="true" name="yCoordinate" maxlength="50"  a:placeholder="1 ... 4">
                                        <f:validateRequired/>
                                        <f:validateDoubleRange minimum="1" maximum="4"/>
                                        <f:ajax execute="@this" render="@form"/>
                                    </h:inputText>
                                </div>
                                <div class="input-submit">
                                    <h:commandButton id="submit" class="submit-form-button" value="Submit">
                                        <f:ajax execute="@form" listener="#{resultsBean.addPoint(pointBean)}" render="@form resultTable drawPoints" />
                                    </h:commandButton>
                                </div>
                                </h:form>
                        </div>
                        <h:form id="test">

                            <h:inputText value="#{pointBean.x}" />
                            <h:inputText value="#{pointBean.y}" />
                            <h:inputText value="#{pointBean.r}" />
                            <h:commandButton value="Отправить"  action="#{pointBean.test}" />
                        </h:form>

                    </div>
                </div>






            <div class="main-table-block">
                <div class="resultsTable">
    <!--                <ui:repeat id = "drawPoint" value="#{resultsBean.results}" var="result">-->
    <!--                    <h:outputScript>-->
    <!--                        drawPoint('#{result.x}', '#{result.y}', '#{result.r}', '#{result.inArea}');-->
    <!--                    </h:outputScript>-->
    <!--                </ui:repeat>-->
                    <h:panelGroup id = "drawPoints">
                        <h:outputScript>
                            //clearPoints();
                        </h:outputScript>
                        <c:forEach items="#{resultsBean.results}" var="result">
                            <h:outputScript>
                                drawPoint('#{result.x}', '#{result.y}', '#{result.inArea}');
                            </h:outputScript>
                        </c:forEach>
                    </h:panelGroup>
                    <h:dataTable id = "resultTable" value="#{resultsBean.results}" var="result">
                        <h:column>
                            <f:facet name = "header">X</f:facet>
                            #{result.x}
                        </h:column>
                        <h:column>
                            <f:facet name = "header">Y</f:facet>
                            #{result.y}
                        </h:column>
                        <h:column>
                            <f:facet name = "header">R</f:facet>
                            #{result.r}
                        </h:column>
                        <h:column>
                            <f:facet name = "header">Res</f:facet>
                            #{result.inArea ? "Есть пробите!" : "Рекашет!"}
                        </h:column>
                    </h:dataTable>
                </div>
                <div class="index-menu">
                    <h:link outcome="index">
                        To start page
                    </h:link>
                </div>
            </div>
                </div>
            <h:outputScript library="js" name="script.js" />
            <h:outputScript library="js" name="graph.js" />
            <h:outputScript url="https://code.jquery.com/jquery-3.6.0.min.js" />

        </div>

    </h:body>
</html>
